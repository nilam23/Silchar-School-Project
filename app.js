const express = require("express");
const mongoose = require("mongoose");
const dotenv = require("dotenv").config();
const bodyParser = require("body-parser");

const Notification = require("./models/notificationCollection");
const Admin = require("./models/adminCollection");

const app = express();
const port = 3000;

mongoose.connect(process.env.MONGO_URI, { useNewUrlParser: true, useUnifiedTopology: true, useCreateIndex: true })
    .then(() => console.log("Database connection is successful."))
    .catch((err) => console.log(err));

app.set("view engine", "ejs");
app.use(express.static("public"));
app.use(bodyParser.urlencoded({ extended: true }));

//DUMMY DATA
var activities = [
    {
        src: "data:image/jpeg;base64,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",
        title: "Nature"
    },
    {
        src: "data:image/jpeg;base64,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",
        title: "Holi"
    }
];

const createAdmin = async () => {
    try {
        const admin = {
            username: "adminSilchar123",
            password: "123Silcharadmin"
        };
        const result = await Admin.insertMany([admin]);
        console.log(result);
    } catch (err) {
        console.log(err);
    }
};

// createAdmin();

app.get("/", (req, res) => {
    const getNotification = async () => {
        try {
            notifications = await Notification.find();
            res.render("index", { notifications });
        } catch (err) {
            console.log(err);
        }
    };
    getNotification();
});

app.get("/facultyList", (req, res) => res.render("facultyList"));

app.get("/activities", (req, res) => res.render("activities", { activities }));

app.get("/notifications", (req, res) => {
    const getNotification = async () => {
        try {
            const notifications = await Notification.find();
            res.render("notifications", { notifications });
        } catch (err) {
            console.log(err);
        }
    };
    getNotification();
});

//ADMIN ROUTES
app.get("/adminSignUp", (req, res) => res.render("adminSignUp"));

app.get("/adminManage", (req, res) => res.render("manage"));

app.get("/adminManageNotifications", (req, res) => {
    const getNotification = async () => {
        try {
            const notifications = await Notification.find();
            res.render("manageNotifications", { notifications });
        } catch (err) {
            console.log(err);
        }
    };
    getNotification();
});

app.get("/adminManageNotifications/new", (req, res) => res.render("addNotification"));

app.post("/adminManageNotifications", (req, res) => {
    const createNotification = async () => {
        try {
            const notification = {
                content: req.body.content
            };
            const result = await Notification.insertMany([notification]);
            res.redirect("/adminManageNotifications");
        } catch (err) {
            console.log(err);
            res.redirect("/adminManageNotifications");
        }
    };
    createNotification();
});

app.post("/adminManageNotifications/:id", async (req, res) => {
    const notification = await Notification.findById(req.params.id);
    await notification.remove();
    res.redirect("/adminManageNotifications");
});

app.get("/adminManageActivities", (req, res) => res.render("manageActivities"));
app.post("/adminManageActivities", (req, res) => res.render("manageActivities"));

app.listen(port, () => console.log(`Sevrer is listening at port ${port}...`));